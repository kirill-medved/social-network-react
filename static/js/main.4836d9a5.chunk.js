(this["webpackJsonpcreate-react-app"]=this["webpackJsonpcreate-react-app"]||[]).push([[0],{130:function(e,t,a){e.exports={news__wrap:"News_news__wrap__2GoE_"}},131:function(e,t,a){e.exports={music__wrap:"Music_music__wrap__2th4R"}},132:function(e,t,a){e.exports={settings__wrap:"Settings_settings__wrap__12FY0"}},135:function(e,t,a){e.exports=a.p+"static/media/userImage.800ad3c9.jpg"},137:function(e,t,a){e.exports=a.p+"static/media/Preloader.c84c4095.png"},138:function(e,t,a){e.exports={content:"Profile_content__kEhOx"}},139:function(e,t,a){e.exports={content:"MyPosts_content__2PLnx"}},14:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3cqfQ",dialogs_items_wrapper:"Dialogs_dialogs_items_wrapper__3ZEEa",dialogs_item:"Dialogs_dialogs_item__1nSCW",messages_wrapper:"Dialogs_messages_wrapper__3IfWK",messages:"Dialogs_messages__31Pkx",message:"Dialogs_message__-O9CV",dialogs_img:"Dialogs_dialogs_img__2mUkJ",dialogs_user:"Dialogs_dialogs_user__3C7eA",dialogs_user_img:"Dialogs_dialogs_user_img__2FgbV",message_user_icon:"Dialogs_message_user_icon__UEne7"}},15:function(e,t,a){e.exports={items:"Navbar_items__1gTRo",item:"Navbar_item__3B_Nv",active:"Navbar_active__1UaaH"}},166:function(e,t,a){e.exports=a(292)},171:function(e,t,a){},172:function(e,t,a){},25:function(e,t,a){e.exports={field:"FormsControls_field__fJDKR",error:"FormsControls_error__FQ-1G",warning:"FormsControls_warning__3yHJE",asyncError:"FormsControls_asyncError__35KJs"}},292:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),o=a(68),c=a.n(o),i=(a(171),a(28)),u=a(29),l=a(32),m=a(31),f=(a(172),a(15)),p=a.n(f),g=a(12),_=function(){return s.a.createElement("nav",{className:p.a.navbar},s.a.createElement("ul",{className:p.a.items},s.a.createElement("li",{className:p.a.item},s.a.createElement(g.b,{to:"/profile",activeClassName:p.a.active},"Profile")),s.a.createElement("li",{className:p.a.item},s.a.createElement(g.b,{to:"/dialogs",activeClassName:p.a.active},"Messages")),s.a.createElement("li",{className:p.a.item},s.a.createElement(g.b,{to:"/users",activeClassName:p.a.active},"Users")),s.a.createElement("li",{className:p.a.item},s.a.createElement(g.b,{to:"/news",activeClassName:p.a.active},"News")),s.a.createElement("li",{className:p.a.item},s.a.createElement(g.b,{to:"/music",activeClassName:p.a.active},"Music")),s.a.createElement("li",{className:p.a.item},s.a.createElement(g.b,{to:"/settings",activeClassName:p.a.active},"Settings"))))},d=a(130),E=a.n(d),b=function(e){return s.a.createElement("div",{className:E.a.news__wrap},"News")},h=a(131),v=a.n(h),w=function(e){return s.a.createElement("div",{className:v.a.music__wrap},"Music")},O=a(132),N=a.n(O),j=function(e){return s.a.createElement("div",{className:N.a.settings__wrap},"Settings")},S=a(11),P=a(45),C=a(5),I={messagesData:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Not bad, and you?"},{id:4,message:"I'm to. Do you want to play cs go?"},{id:5,message:"Let's go!"}],dialogsData:[{id:1,name:"Ivan"},{id:2,name:"Kirill"},{id:3,name:"Kris"},{id:4,name:"Vlad"}]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var a={id:6,message:t.message};return Object(C.a)(Object(C.a)({},e),{},{messagesData:[].concat(Object(P.a)(e.messagesData),[a])});default:return e}},y=a(14),U=a.n(y),T=function(e){return s.a.createElement("div",{className:"".concat(U.a.message)},s.a.createElement(g.b,{to:"id",className:U.a.message_user_icon},s.a.createElement("img",{src:"https://img5tv.cdnvideo.ru/webp/shared/files/201708/1_569190.jpg",className:"".concat(U.a.dialogs_img)})),e.message)},k=function(e){var t="/dialogs/"+e.id;return s.a.createElement("div",{className:"".concat(U.a.dialogs_item)},s.a.createElement(g.b,{to:"id",className:U.a.dialogs_user_img},s.a.createElement("img",{src:"https://img5tv.cdnvideo.ru/webp/shared/files/201708/1_569190.jpg",className:"".concat(U.a.dialogs_img)})),s.a.createElement(g.b,{to:t,className:U.a.dialogs_user},e.name))},x=a(127),A=a(128),L=a(96),F=a(25),R=a.n(F),M=function(e){var t=e.input,a=e.meta,n=Object(L.a)(e,["input","meta"]),r=a.touched&&(a.error&&s.a.createElement("span",null,a.error)||a.warning&&s.a.createElement("span",null,a.warning));return s.a.createElement("div",{className:R.a.field+" "+(a.touched&&a.error?R.a.error:a.warning?R.a.warning:"")},s.a.createElement("textarea",Object.assign({},t,n)),r)},z=function(e){var t=e.input,a=e.meta,n=Object(L.a)(e,["input","meta"]),r=a.touched&&(a.error&&s.a.createElement("span",null,a.error)||a.warning&&s.a.createElement("span",null,a.warning));return s.a.createElement("div",{className:R.a.field+" "+(a.touched&&a.error?R.a.error:a.warning?R.a.warning:"")},s.a.createElement("input",Object.assign({},t,n)),r)},G=a(72),H=a.n(G),V=function(e){if(!e)return"This field is required"},W=(n=200,function(e){if(e&&e.length>n)return"Must be ".concat(n," characters or less")}),Z=Object(A.a)({form:"message"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit,className:H.a.form},s.a.createElement(x.a,{component:M,name:"message",validate:[V,W],className:H.a.form__field,placeholder:"New message"}),s.a.createElement("button",{className:H.a.button},"Send"))})),B=function(e){var t=e.dialogsData.map((function(e){return s.a.createElement(k,{name:e.name,id:e.id})})),a=e.messagesData.map((function(e){return s.a.createElement(T,{message:e.message})}));return s.a.createElement("section",{className:"".concat(U.a.dialogs)},s.a.createElement("div",{className:"".concat(U.a.dialogs_items_wrapper)},s.a.createElement("div",{className:"".concat(U.a.dialogs_items)},t)),s.a.createElement("div",{className:"".concat(U.a.messages_wrapper)},s.a.createElement("div",{className:"".concat(U.a.messages)},a),s.a.createElement(Z,{onSubmit:function(t){e.addMessage(t.message)}})))},J=a(10),K=function(e){return{isAuth:e.auth.isAuth}},q=function(e){return Object(J.b)(K,{})((function(t){return t.isAuth?s.a.createElement(e,t):s.a.createElement(S.a,{to:"/login"})}))},Q=a(8),X=Object(Q.compose)(q,Object(J.b)((function(e){return{dialogsData:e.dialogsPage.dialogsData,messagesData:e.dialogsPage.messagesData}}),(function(e){return{addMessage:function(t){e(function(e){return{type:"ADD-MESSAGE",message:e}}(t))}}})))(B),Y=a(59),$=a(34),ee=a.n($),te=function(e){for(var t=e.totalItemsCount,a=e.pageSize,n=e.currentPage,o=e.onPageCurrentPageChange,c=e.portionSize,i=void 0===c?10:c,u=Math.ceil(t/a),l=[],m=1;m<=u;m++)l.push(m);var f=Math.ceil(u/i),p=Object(r.useState)(1),g=Object(Y.a)(p,2),_=g[0],d=g[1],E=(_-1)*i+1,b=_*i;return s.a.createElement("div",{className:ee.a.paginator},_>1&&s.a.createElement("button",{className:ee.a.button,onClick:function(){d(_-1)}},s.a.createElement("img",{className:ee.a.button__img,src:"https://di.phncdn.com/www-static/images/leftArrow.png",alt:"arrow_left"}),"\u041d\u0430\u0437\u0430\u0434"),l.filter((function(e){return e>=E&&e<=b})).map((function(e){return s.a.createElement("span",{className:n===e?ee.a.active:ee.a.notActive,onClick:function(t){o(e)}},e)})),f>_&&s.a.createElement("button",{className:ee.a.button,onClick:function(){d(_+1)}},"\u0412\u043f\u0435\u0440\u0435\u0434",s.a.createElement("img",{className:ee.a.button__img,src:"https://di.phncdn.com/www-static/images/rightArrow.png",alt:"arrow_left"})))},ae=a(38),ne=a.n(ae),re=a(135),se=a.n(re),oe=function(e){var t=e.followingInProgress,a=e.unfollow,n=e.follow,r=e.user;return s.a.createElement("div",{className:ne.a.user__wrap},s.a.createElement("div",null,s.a.createElement(g.b,{to:"/profile/"+r.id},s.a.createElement("img",{className:ne.a.image,src:null!=r.photos.small?r.photos.small:se.a})),r.followed?s.a.createElement("button",{className:ne.a.user__button_unfollow,disabled:t.some((function(e){return e===r.id})),onClick:function(){a(r.id)}},"Unfollow"):s.a.createElement("button",{className:ne.a.user__button_follow,disabled:t.some((function(e){return e===r.id})),onClick:function(){n(r.id)}},"Follow")),s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement("div",null,r.name),s.a.createElement("div",null,r.status)),s.a.createElement("span",null,s.a.createElement("div",null,"user.location.city"),s.a.createElement("div",null,"user.location.country"))))},ce=function(e){return s.a.createElement("div",{className:ne.a.users_wrap},e.users.map((function(t){return s.a.createElement(oe,{key:t.id,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow,user:t})})),s.a.createElement(te,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageCurrentPageChange:e.onPageCurrentPageChange}))},ie=a(9),ue=a.n(ie),le=a(20),me=a(136),fe=a.n(me).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"api-key":"ee70f16a-44fa-47ae-84d0-420385aff71b"}}),pe=function(e,t){return fe.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},ge=function(){return fe.get("auth/me").then((function(e){return e.data}))},_e=function(e,t,a){return fe.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},de=function(){return fe.delete("auth/login").then((function(e){return e.data}))},Ee=function(e){return fe.get("profile/".concat(e)).then((function(e){return e.data}))},be=function(e){return fe.get("profile/status/".concat(e)).then((function(e){return e.data}))},he=function(e){return fe.put("profile/status",{status:e}).then((function(e){return e.data}))},ve={followUser:function(e){return fe.post("follow/".concat(e)).then((function(e){return e.data}))},unfollowUser:function(e){return fe.delete("follow/".concat(e)).then((function(e){return e.data}))}},we=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(C.a)(Object(C.a)({},e),n):e}))},Oe={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},Ne=function(e){return{type:"FOLLOW",userId:e}},je=function(e){return{type:"UNFOLLOW",userId:e}},Se=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},Pe=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},Ce=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},Ie=function(){var e=Object(le.a)(ue.a.mark((function e(t,a,n,r){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ce(!0,a)),e.next=4,n(a);case 4:0===e.sent.resultCode&&t(r(a)),t(Ce(!1,a));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(C.a)(Object(C.a)({},e),{},{users:we(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(C.a)(Object(C.a)({},e),{},{users:we(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(C.a)(Object(C.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(C.a)(Object(C.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(C.a)(Object(C.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(C.a)(Object(C.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(C.a)(Object(C.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(P.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},ye=a(137),Ue=a.n(ye),Te=function(e){return s.a.createElement("div",null,s.a.createElement("img",{src:Ue.a}))},ke=function(e){return e.usersPage.users},xe=function(e){return e.usersPage.pageSize},Ae=function(e){return e.usersPage.totalUsersCount},Le=function(e){return e.usersPage.currentPage},Fe=function(e){return e.usersPage.isFetching},Re=function(e){return e.usersPage.followingInProgress},Me=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageCurrentPageChange=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.isFetching?s.a.createElement(Te,null):null,s.a.createElement(ce,{currentPage:this.props.currentPage,users:this.props.users,onPageCurrentPageChange:this.onPageCurrentPageChange,follow:this.props.follow,unfollow:this.props.unfollow,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,followingInProgress:this.props.followingInProgress}))}}]),a}(s.a.Component),ze=Object(J.b)((function(e){return{users:ke(e),pageSize:xe(e),totalUsersCount:Ae(e),currentPage:Le(e),isFetching:Fe(e),followingInProgress:Re(e)}}),{unfollow:function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(a){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ie(a,e,ve.unfollowUser.bind(ve),je);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var a=Object(le.a)(ue.a.mark((function a(n){var r;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Pe(!0)),n(Se(e)),a.next=4,pe(e,t);case 4:r=a.sent,n(Pe(!1)),n({type:"SET_USERS",users:r.items}),n({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:r.totalCount});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(a){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ie(a,e,ve.followUser.bind(ve),Ne);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Me),Ge=a(138),He=a.n(Ge),Ve=a(46),We=a.n(Ve),Ze=function(e){var t=Object(r.useState)(!1),a=Object(Y.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(e.status),i=Object(Y.a)(c,2),u=i[0],l=i[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return s.a.createElement("div",{className:We.a.status},n?s.a.createElement("div",null,s.a.createElement("input",{onChange:function(e){!function(e){l(e.currentTarget.value)}(e)},autoFocus:!0,onBlur:function(){o(!1),e.updateUserStatus(u)},value:u})):s.a.createElement("div",null,s.a.createElement("span",{role:"span",onDoubleClick:function(){o(!0)}},u||"-----")))},Be=function(e){return e.profile?s.a.createElement("div",{className:We.a.bgImage},s.a.createElement("img",{src:e.profile.photos.large,className:We.a.profilePhoto}),s.a.createElement(Ze,{status:e.status,updateUserStatus:e.updateUserStatus}),s.a.createElement("div",{className:We.a.profileInfo},"description")):s.a.createElement(Te,null)},Je={postsData:[{id:1,content:"I want to find new friends!",likesCount:11},{id:2,content:"I too))",likesCount:35}],profile:null,status:""},Ke=function(e){return{type:"SET_STATUS",status:e}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:5,content:t.newPostText,likesCount:0};return Object(C.a)(Object(C.a)({},e),{},{postsData:[].concat(Object(P.a)(e.postsData),[a])});case"SET_USER_PROFILE":return Object(C.a)(Object(C.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(C.a)(Object(C.a)({},e),{},{status:t.status});case"DELETE_POST":return Object(C.a)(Object(C.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!=t.postId}))});default:return e}},Qe=a(139),Xe=a.n(Qe),Ye=a(47),$e=a.n(Ye),et=function(e){return s.a.createElement("div",{className:"".concat($e.a.post)},s.a.createElement("img",{src:"https://img.gazeta.ru/files3/723/11725723/urod-pic685-685x390-29509.jpg"}),s.a.createElement("div",{className:"".concat($e.a.post__fullname)},"".concat(e.firstname," ").concat(e.secondname)),s.a.createElement("div",{className:"".concat($e.a.post__data)},"data"),s.a.createElement("div",{className:"".concat($e.a.post__content)},"".concat(e.content)),s.a.createElement("div",{className:"".concat($e.a.post__info)},s.a.createElement("span",null,e.likesCount," Like")))},tt=a(95),at=a.n(tt),nt=function(e){if(!e)return"This field is required"},rt=function(e){return function(t){if(t&&t.length>e)return"Must be ".concat(e," characters or less")}}(50),st=Object(A.a)({form:"post"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit,className:at.a.form},s.a.createElement(x.a,{component:M,name:"post",validate:[nt,rt],placeholder:"New post"}),s.a.createElement("button",{className:at.a.button},"Send"))})),ot=s.a.memo((function(e){var t=e.postsData.map((function(e){return s.a.createElement(et,{content:e.content,likesCount:e.likesCount})}));return s.a.createElement("div",{className:Xe.a.content},s.a.createElement("div",null,"New post",s.a.createElement(st,{onSubmit:function(t){e.addPost(t.post)}})),s.a.createElement("div",null,t))})),ct=Object(J.b)((function(e){return{postsData:e.profilePage.postsData}}),(function(e){return{addPost:function(t){e({type:"ADD-POST",newPostText:t})}}}))(ot),it=function(e){return s.a.createElement("main",{className:He.a.content},s.a.createElement(Be,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),s.a.createElement(ct,null))},ut=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userID;e||(e=this.props.authrizedUserID)||this.props.history.push("/login"),this.props.getUserID(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return s.a.createElement(it,this.props)}}]),a}(s.a.Component),lt=Object(Q.compose)(q,S.f,Object(J.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authrizedUserID:e.auth.userID}}),{getUserID:function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(a){var n;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee(e);case 2:n=t.sent,a({type:"SET_USER_PROFILE",profile:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(a){var n;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be(e);case 2:n=t.sent,a(Ke(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(a){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he(e);case 2:0===t.sent.resultCode&&a(Ke(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(ut),mt=a(48),ft=a.n(mt),pt=function(e){return s.a.createElement("div",{className:ft.a.wraper},s.a.createElement("header",{className:ft.a.header},s.a.createElement("img",{src:"https://static.rfstat.com/renderforest/images/v2/logo-homepage/flat_3.png"}),s.a.createElement("div",{className:ft.a.loginBlock},e.isAuth?s.a.createElement("div",null,e.login," ",s.a.createElement("button",{onClick:e.logout,className:ft.a.button},"Logout")):s.a.createElement(g.b,{to:"/login",className:ft.a.button},"Login"))))},gt=a(40),_t={userID:null,email:null,login:null,password:null,isAuth:!1},dt=function(e,t,a,n){return{type:"SET_USER_DATA",data:{userID:e,email:t,login:a,isAuth:n}}},Et=function(){return function(){var e=Object(le.a)(ue.a.mark((function e(t){var a,n,r,s,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:0===(a=e.sent).resultCode&&(n=a.data,r=n.id,s=n.email,o=n.login,t(dt(r,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},bt=function(){return function(){var e=Object(le.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:0===e.sent.resultCode&&t(dt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":case"LOGIN_AUTHORIZE":return Object(C.a)(Object(C.a)({},e),t.data);default:return e}},vt=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement(pt,this.props)}}]),a}(s.a.Component),wt=Object(J.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:bt})(vt),Ot=a(58),Nt=a.n(Ot),jt=function(e){if(!e)return"This field is required"},St=function(e){return function(t){if(t&&t.length>e)return"Must be ".concat(e," characters or less")}}(20),Pt=Object(A.a)({form:"login"})((function(e){return s.a.createElement("form",{onSubmit:e.handleSubmit},s.a.createElement("div",null,s.a.createElement("label",null,"Login:",s.a.createElement(x.a,{component:z,name:"login",type:"text",validate:[jt,St]}))),s.a.createElement("div",null,s.a.createElement("label",null,"Password:",s.a.createElement(x.a,{component:z,name:"password",type:"password",validate:[jt,St]}))),s.a.createElement("div",null,s.a.createElement("label",{className:Nt.a.login__field},s.a.createElement(x.a,{component:z,type:"checkbox",name:"rememberMe"}),"remember me")),e.error&&s.a.createElement("div",{className:R.a.asyncError},e.error),s.a.createElement("button",{className:Nt.a.button},"Sign up"))})),Ct=Object(J.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,a){return function(){var n=Object(le.a)(ue.a.mark((function n(r){var s,o;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_e(e,t,a);case 2:0===(s=n.sent).resultCode?r(Et()):(o=s.messages.length>0?s.messages[0]:"Some error!",r(Object(gt.a)("login",{_error:o})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},logout:bt})((function(e){return e.isAuth?s.a.createElement(S.a,{to:"/profile"}):s.a.createElement("div",{className:Nt.a.login__wrap},s.a.createElement("h1",null,"Login please!"),s.a.createElement(Pt,{onSubmit:function(t){var a=t.login,n=t.password,r=t.rememberMe;e.login(a,n,r)}}))})),It={initialized:!1},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(C.a)(Object(C.a)({},e),{},{initialized:!0});default:return e}},yt=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?s.a.createElement(g.a,{basename:"/social-network-react"},s.a.createElement("div",{className:"app-wrapper"},s.a.createElement(wt,null),s.a.createElement("div",{className:"content"},s.a.createElement(_,null),s.a.createElement("div",{className:"content-wrapper"},s.a.createElement(S.b,{path:"/profile/:userID?",render:function(){return s.a.createElement(lt,null)}}),s.a.createElement(S.b,{path:"/dialogs",render:function(){return s.a.createElement(X,null)}}),s.a.createElement(S.b,{path:"/users",render:function(){return s.a.createElement(ze,null)}}),s.a.createElement(S.b,{path:"/news",render:function(){return s.a.createElement(b,null)}}),s.a.createElement(S.b,{path:"/music",render:function(){return s.a.createElement(w,null)}}),s.a.createElement(S.b,{path:"/settings",render:function(){return s.a.createElement(j,null)}}),s.a.createElement(S.b,{path:"/login",render:function(){return s.a.createElement(Ct,null)}}))))):s.a.createElement(Te,null)}}]),a}(s.a.Component),Ut=Object(Q.compose)(Object(J.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){Promise.all([e(Et())]).then((function(){e({type:"SET_INITIALIZED"})}))}}}))(yt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Tt=a(140),kt=a(129),xt=a(8),At=xt.createStore,Lt=xt.combineReducers,Ft=xt.applyMiddleware,Rt=xt.compose,Mt=At(Lt({profilePage:qe,dialogsPage:D,usersPage:De,auth:ht,form:kt.a,app:Dt}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Rt)(Ft(Tt.a)));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(J.a,{store:Mt},s.a.createElement(Ut,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,a){e.exports={active:"Paginator_active__2ywvr",notActive:"Paginator_notActive__kJzEd",paginator:"Paginator_paginator__1HZiw",button:"Paginator_button__2EEZ4",button__img:"Paginator_button__img__2f_CU"}},38:function(e,t,a){e.exports={image:"Users_image__3tO0T",users_wrap:"Users_users_wrap__18OSN",user__wrap:"Users_user__wrap__3f7fv",user__button_follow:"Users_user__button_follow__1WUP3"}},46:function(e,t,a){e.exports={bgImage:"ProfileInfo_bgImage__19uQe",profileInfo:"ProfileInfo_profileInfo__1D5K5",profilePhoto:"ProfileInfo_profilePhoto__26Evj",status:"ProfileInfo_status__s5hQg"}},47:function(e,t,a){e.exports={post:"Post_post__2YGcH"}},48:function(e,t,a){e.exports={wraper:"Header_wraper__2bsSR",header:"Header_header__2Z-Pv",loginBlock:"Header_loginBlock__3pYo1",button:"Header_button__Cpzcu"}},58:function(e,t,a){e.exports={login__wrap:"Login_login__wrap__3OpUP",login__field:"Login_login__field__1kPr5",button:"Login_button__1Uwlg"}},72:function(e,t,a){e.exports={button:"DialogsFormValidation_button__sVi3D",form:"DialogsFormValidation_form__RdaM-",form__field:"DialogsFormValidation_form__field___66Vo"}},95:function(e,t,a){e.exports={button:"PostFormValidation_button__2VOr1",form:"PostFormValidation_form__1sXZ3"}}},[[166,1,2]]]);
//# sourceMappingURL=main.4836d9a5.chunk.js.map